(window.webpackJsonp=window.webpackJsonp||[]).push([[76],{474:function(v,_,e){"use strict";e.r(_);var o=e(56),d=Object(o.a)({},(function(){var v=this,_=v.$createElement,e=v._self._c||_;return e("ContentSlotsDistributor",{attrs:{"slot-key":v.$parent.slotKey}},[e("h1",{attrs:{id:"_14-7-练习"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_14-7-练习"}},[v._v("#")]),v._v(" 14.7 练习")]),v._v(" "),e("p",[v._v("(1) 从"),e("code",[v._v("Thread")]),v._v("继承一个类，并（重载）覆盖"),e("code",[v._v("run()")]),v._v("方法。在"),e("code",[v._v("run()")]),v._v("内，打印出一条消息，然后调用"),e("code",[v._v("sleep()")]),v._v("。重复三遍这些操作，然后从"),e("code",[v._v("run()")]),v._v("返回。在构造器中放置一条启动消息，并覆盖"),e("code",[v._v("finalize()")]),v._v("，打印一条关闭消息。创建一个独立的线程类，使它在"),e("code",[v._v("run()")]),v._v("内调用"),e("code",[v._v("System.gc()")]),v._v("和"),e("code",[v._v("System.runFinalization()")]),v._v("，并打印一条消息，表明调用成功。创建这两种类型的几个线程，然后运行它们，看看会发生什么。")]),v._v(" "),e("p",[v._v("(2) 修改"),e("code",[v._v("Counter2.java")]),v._v("，使线程成为一个内部类，而且不需要明确保存指向"),e("code",[v._v("Counter2")]),v._v("的一个。")]),v._v(" "),e("p",[v._v("(3) 修改"),e("code",[v._v("Sharing2.java")]),v._v("，在"),e("code",[v._v("TwoCounter")]),v._v("的"),e("code",[v._v("run()")]),v._v("方法内部添加一个"),e("code",[v._v("synchronized")]),v._v("（同步）块，而不是同步整个"),e("code",[v._v("run()")]),v._v("方法。")]),v._v(" "),e("p",[v._v("(4) 创建两个"),e("code",[v._v("Thread")]),v._v("子类，第一个的"),e("code",[v._v("run()")]),v._v("方法用于最开始的启动，并捕获第二个"),e("code",[v._v("Thread")]),v._v("对象的引用，然后调用"),e("code",[v._v("wait()")]),v._v("。第二个类的"),e("code",[v._v("run()")]),v._v("应在过几秒后为第一个线程调用"),e("code",[v._v("modifyAll()")]),v._v("，使第一个线程能打印出一条消息。")]),v._v(" "),e("p",[v._v("(5) 在"),e("code",[v._v("Ticker2")]),v._v("内的"),e("code",[v._v("Counter5.java")]),v._v("中，删除"),e("code",[v._v("yield()")]),v._v("，并解释一下结果。用一个"),e("code",[v._v("sleep()")]),v._v("换掉"),e("code",[v._v("yield()")]),v._v("，再解释一下结果。")]),v._v(" "),e("p",[v._v("(6) 在"),e("code",[v._v("ThreadGroup1.java")]),v._v("中，将对"),e("code",[v._v("sys.suspend()")]),v._v("的调用换成对线程组的一个"),e("code",[v._v("wait()")]),v._v("调用，令其等候2秒钟。为了保证获得正确的结果，必须在一个同步块内取得"),e("code",[v._v("sys")]),v._v("的对象锁。")]),v._v(" "),e("p",[v._v("(7) 修改"),e("code",[v._v("Daemons.java")]),v._v("，使"),e("code",[v._v("main()")]),v._v("有一个"),e("code",[v._v("sleep()")]),v._v("，而不是一个"),e("code",[v._v("readLine()")]),v._v("。实验不同的睡眠时间，看看会有什么发生。")]),v._v(" "),e("p",[v._v("(8) 到第7章（中间部分）找到那个"),e("code",[v._v("GreenhouseControls.java")]),v._v("例子，它应该由三个文件构成。在"),e("code",[v._v("Event.java")]),v._v("中，"),e("code",[v._v("Event")]),v._v("类建立在对时间的监视基础上。修改这个"),e("code",[v._v("Event")]),v._v("，使其成为一个线程。然后修改其余的设计，使它们能与新的、以线程为基础的Event正常协作。")])])}),[],!1,null,null,null);_.default=d.exports}}]);